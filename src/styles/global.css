@import 'tailwindcss';
@plugin '@tailwindcss/typography';

/* Use class-based dark mode instead of media query */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-article: 'Helvetica Neue', ui-serif, Georgia, Cambria,
    'Times New Roman', Times, serif;
}

a.button {
  @apply inline-block rounded-xl border border-gray-200 bg-white px-6 py-2 shadow-md transition-shadow hover:shadow-xl dark:bg-zinc-800 dark:border-zinc-600 dark:text-gray-100;
}

h1 {
  @apply text-2xl font-bold text-gray-900 dark:text-gray-100;
}

h2 {
  @apply text-xl font-bold text-gray-900 dark:text-gray-100;
}

h3 {
  @apply text-lg font-semibold text-gray-900 dark:text-gray-100;
}

h4,
h5,
h6 {
  @apply text-base font-semibold text-gray-900 dark:text-gray-100;
}

/* Shiki code block styling */
pre {
  @apply overflow-x-auto rounded-lg p-4;
  background-color: #24292e;
  color: #e1e4e8;
}

/* Shiki github-dark token colors as classes */
.c-fg {
  color: #e1e4e8;
}
.c-kw {
  color: #f97583;
}
.c-cn {
  color: #79b8ff;
}
.c-pm {
  color: #ffab70;
}
.c-fn {
  color: #b392f0;
}
.c-st {
  color: #9ecbff;
}
.c-cm {
  color: #6a737d;
}

pre > code {
  counter-reset: line;
}

pre > code > .line::before {
  counter-increment: line;
  content: counter(line);
  display: inline-block;
  width: 1rem;
  margin-right: 1.5rem;
  text-align: right;
  color: gray;
}

pre > code[data-line-numbers-max-digits='2'] > .line::before {
  width: 1.25rem;
}

pre > code[data-line-numbers-max-digits='3'] > .line::before {
  width: 1.75rem;
}

/* Prose dark mode overrides */
.prose {
  @apply text-gray-700 dark:text-gray-300;
}

.prose p {
  @apply text-gray-700 dark:text-gray-300;
}

.prose a {
  @apply text-blue-600 dark:text-blue-400;
}

.prose a:hover {
  @apply text-blue-800 dark:text-blue-300;
}

.prose strong {
  @apply text-gray-900 dark:text-gray-100;
}

.prose blockquote {
  @apply border-gray-300 text-gray-600 dark:border-gray-600 dark:text-gray-400;
}

.prose ul,
.prose ol {
  @apply text-gray-700 dark:text-gray-300;
}

.prose li::marker {
  @apply text-gray-400 dark:text-gray-500;
}

.prose p code {
  @apply rounded-md border border-black/10 bg-yellow-50 px-1 font-medium text-black dark:border-zinc-600 dark:bg-zinc-700 dark:text-gray-200;
}

.prose p code:before {
  display: none;
}

.prose p code:after {
  display: none;
}

/* Mobile menu FAB icon toggle */
#menu-toggle:checked ~ label[for='menu-toggle'] .icon-hamburger {
  display: none;
}

#menu-toggle:checked ~ label[for='menu-toggle'] .icon-close {
  display: block;
}

#menu-toggle:not(:checked) ~ label[for='menu-toggle'] .icon-hamburger {
  display: block;
}

#menu-toggle:not(:checked) ~ label[for='menu-toggle'] .icon-close {
  display: none;
}

/* Mobile menu bottom sheet toggle */
body:has(#menu-toggle:checked) nav.mobile-menu {
  transform: scale(1) !important;
  opacity: 1 !important;
}

@media (max-width: 1279px) {
  nav.mobile-menu {
    transform: scale(0);
    opacity: 0;
  }
}

/* Marquee animation for client logos */
@keyframes marquee {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

.animate-marquee {
  animation: marquee 30s linear infinite;
}

.animate-marquee:hover {
  animation-play-state: paused;
}
