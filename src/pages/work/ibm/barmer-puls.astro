---
import Layout from '~/layouts/Layout.astro'
import BaseLayout from '~/components/BaseLayout.astro'
import Footer from '~/components/Footer.astro'
---

<Layout title="Barmer Puls Design System - Work">
  <BaseLayout>
    <article class="mt-12">
      <!-- Back link -->
      <a
        href="/work/ibm"
        class="inline-flex items-center gap-1 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 mb-6"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-4 h-4"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M15.75 19.5 8.25 12l7.5-7.5"></path>
        </svg>
        Back to IBM / Barmer
      </a>

      <!-- Header -->
      <header class="mb-12">
        <div class="flex flex-col sm:flex-row gap-6 items-start">
          <div
            class="flex-shrink-0 flex items-center justify-center w-24 h-24 bg-gray-50 dark:bg-zinc-800 rounded-xl border border-gray-200 dark:border-zinc-700"
          >
            <img
              src="/company/barmer.svg"
              alt="Barmer Logo"
              width="70"
              height="20"
            />
          </div>
          <div class="flex-1">
            <h1 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
              Barmer Puls Design System
            </h1>
            <p class="text-gray-600 dark:text-gray-400 mt-1">IBM iX / Barmer</p>
            <div
              class="flex flex-wrap gap-4 mt-3 text-sm text-gray-500 dark:text-gray-400"
            >
              <span class="flex items-center gap-1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-4 h-4"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"
                  ></path>
                </svg>
                Senior Frontend Developer
              </span>
            </div>
          </div>
        </div>
      </header>

      <!-- Content -->
      <div class="prose lg:prose-lg max-w-none">
        <p>
          Barmer Puls is a cross-platform design system and component library
          built to power Barmer's digital products. The system provides a
          unified set of React and React Native components ensuring consistent
          user experiences across web and mobile applications for one of
          Germany's largest health insurance providers.
        </p>

        <h2>Project Overview</h2>
        <p>
          As a contributor to the Barmer Puls design system, I worked on core UI
          components used across multiple Barmer applications. The system is
          structured as a monorepo with separate packages for components, hooks,
          themes, icons, and utilities, enabling shared code between React web
          and React Native mobile implementations.
        </p>

        <h2>Key Contributions</h2>

        <h3>Core Components</h3>
        <p>
          Enhanced and maintained foundational components including TextInput,
          Menu, ListItemButton, and PhoneInput. Implemented features like
          scrollable menus with dynamic positioning, proper dark mode support,
          and cross-platform layout fixes for Android-specific issues.
        </p>

        <h3>Dark Mode Support</h3>
        <p>
          Fixed on-the-fly switching between light and dark modes, ensuring
          smooth theme transitions without requiring app restarts. This involved
          updating style systems to respond dynamically to theme changes across
          all components.
        </p>

        <h3>Input Components</h3>
        <p>
          Improved TextInput component with proper label width calculations,
          border handling for different states, and support for placing inputs
          on various background colors. Enhanced PhoneInput to gracefully handle
          unknown dial codes.
        </p>

        <h3>Menu System</h3>
        <p>
          Implemented scrollable menus with automatic position recalculation
          when windows are resized or zoomed. This ensures menus remain properly
          positioned and usable across different viewport sizes and zoom levels.
        </p>

        <h3>Developer Experience</h3>
        <p>
          Set up Docker configuration to run the documentation website and
          Storybook side by side for development. Added package version display
          in the Storybook toolbar for easier version tracking during
          development and QA.
        </p>

        <h3>Ref Management</h3>
        <p>
          Refactored internal ref handling across components using a new
          mergeRefs utility function, improving code consistency and reducing
          bugs related to ref forwarding.
        </p>
      </div>

      <div class="prose lg:prose-lg max-w-none mt-8">
        <h2>Technology Stack</h2>
      </div>

      <!-- Tech Stack Grid -->
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mt-6 mb-12">
        <div>
          <h4
            class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase mb-3"
          >
            Frontend
          </h4>
          <ul class="space-y-2">
            <li class="text-gray-700 dark:text-gray-300">React</li>
            <li class="text-gray-700 dark:text-gray-300">React Native</li>
            <li class="text-gray-700 dark:text-gray-300">TypeScript</li>
            <li class="text-gray-700 dark:text-gray-300">Storybook</li>
          </ul>
        </div>
        <div>
          <h4
            class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase mb-3"
          >
            Styling
          </h4>
          <ul class="space-y-2">
            <li class="text-gray-700 dark:text-gray-300">Design Tokens</li>
            <li class="text-gray-700 dark:text-gray-300">Theming System</li>
            <li class="text-gray-700 dark:text-gray-300">Dark Mode</li>
            <li class="text-gray-700 dark:text-gray-300">CSS-in-JS</li>
          </ul>
        </div>
        <div>
          <h4
            class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase mb-3"
          >
            Tooling
          </h4>
          <ul class="space-y-2">
            <li class="text-gray-700 dark:text-gray-300">Yarn Workspaces</li>
            <li class="text-gray-700 dark:text-gray-300">Changesets</li>
            <li class="text-gray-700 dark:text-gray-300">Vitest</li>
            <li class="text-gray-700 dark:text-gray-300">Playwright</li>
          </ul>
        </div>
        <div>
          <h4
            class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase mb-3"
          >
            DevOps
          </h4>
          <ul class="space-y-2">
            <li class="text-gray-700 dark:text-gray-300">GitLab CI</li>
            <li class="text-gray-700 dark:text-gray-300">Docker</li>
            <li class="text-gray-700 dark:text-gray-300">ESLint</li>
            <li class="text-gray-700 dark:text-gray-300">Prettier</li>
          </ul>
        </div>
      </div>
    </article>

    <Footer />
  </BaseLayout>
</Layout>
