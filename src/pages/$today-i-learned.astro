---
import BaseLayout from '../layouts/BaseLayout.tsx';
import TodayILearnedPostsList from '../components/TodayILearnedPostsList.tsx';

export async function createCollection() {
  const allPosts = Astro.fetchContent('./today-i-learned/*.md')
    .sort((a, b) => a.published_at.localeCompare(b.published_at));
  return {
    paginate: false,
    route: '/today-i-learned',
    async props() {
      return {
        posts: allPosts,
      };
    },
  };
}

const {posts} = Astro.props;
---
<BaseLayout title="Today I Learned" url="/today-i-learned">
  <article class="prose">
    <TodayILearnedPostsList posts={posts} /> 
  </article>
</BaseLayout>
